<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div>bbm&vvn</div>
    <div>bbm</div>
    <div>vvn</div>
    <div>ddg</div>
    <div>ddg</div>
    <div>vivian<span>vvn</span>123</div>
    <div class="bbm">bbm</div>
    <div class="bbm" id="bbm">bbm</div>
    <script src="../tools/VerifyXpath.js"></script>
    <script>
      const examples = [
        // 所有元素
        '//*',
        // 所有 div 元素
        '//div',
        // text, 等于
        "//div[text()='vvn']",
        // text, 不等于
        "//div[text() !='vvn']",
        // text, 包含
        "//div[contains(text(),'bbm')]",
        // text, 不包含 vvn 的 div 元素
        "//div[not(contains(text(),'vvn'))]",
        // text, 以 vivian 开头
        "//div[starts-with(text(),'vivian')]",
        // text, 以 123 结尾; 通过 '123' 推算 string-length(string(.)) - 2)
        "//div[substring(string(.), string-length(string(.)) - 2) = '123']",
        // and 情况, 自定义表达式
        "//div[text()='bbm' and @class='bbm' and @id='bbm']",
        // or 情况, 自定义表达式, 不用考虑
        "//div[contains(text(),'vvn') or text()='ddg']"
      ];

      examples.forEach((xpath, index) => {
        console.log(`\n示例 ${index + 1}: ${xpath}`);
        const elements = VerifyXpath(xpath);
        console.log(`找到 ${elements.length} 个元素:`);
        console.log(elements);
        elements.forEach((el) => {
          // console.log(`  - ${el.outerHTML.substring(0, 100)}...`);
        });
        console.log('------');
      });
    </script>
  </body>
</html>
